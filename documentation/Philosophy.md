# Філософія

[Навігація](#documentation-navigation)

Основна ідея плагіну полягає в абстрагуванні повторюваних завдань розробки в частини шаблону, які ми називаємо модулями та елементами. Ці частини шаблону отримають структурований масив даних від батьківського блоку, що дозволить їм відтворюватися у інтерфейсі.

Цей спосіб організації коду був прийнятий для того, щоб досягти наступного:

-   усунути неузгодженості між різними членами команди, що працюють над одним проектом
-   формалізувати метод, за допомогою якого будуються, структуруються та відображаються блоки - і через проксі, як відтворюється їх внутрішня структура DOM
-   спростити розробку, помістивши всю розробку в обмежений набір методів і функцій
-   запровадити угоду про найменування, якої дотримуватимуться всі майбутні розробники блоків
-   інкапсулювати всі блокові файли в одній групі
-   (завдяки досягненню вищезазначених цілей) прискорити розробку, водночас спрощуючи швидке створення блоків із більшою послідовністю та меншим перекриттям

## Блоки, модулі та елементи, WAT?!

Для досягнення вищезазначених цілей була взята в основу методологія атомарного дизайну Бреда Фроста (https://atomicdesign.bradfrost.com/table-of-contents/). Варто зазначити, що угода про іменування, яку використовує Бред Фрост, є жорсткою і погано поєднується з архітектурою WordPress. Organisms у WordPress можуть бути навігацією або частиною шаблону. Де є межа між цими речами? Інша проблема полягає в тому, що WordPress вже має _власну_ парадигму — шаблони, частини шаблонів, блоки. Тому краще зосередитися на Blocks і вільно накинути концепції Atomic Design на модель Block.

З цією метою у нас є придумали: блоки, модулі та елементи.

## Блоки

Блоки є будівельним блоком (несподівано!) цієї системи. Вони певною мірою схожі на організми в тому, що вони можуть складатися з багатьох модулів та/або елементів. Вони можуть мати логіку (якщо потрібно). Що обробляє блок:

-   він визначає класи для блоку, включаючи будь-які, що застосовуються в Gutenberg
-   він додає ідентифікатор із поля введення Gutenberg, якщо встановлено
    -   Класи та ID згодом автоматично вставляються як рядок атрибутів у `<section>`, який зазвичай є кореневим елементом DOM блоку
-   він визначає, які внутрішні блоки дозволені та де вони відображаються
-   він отримує пов’язані поля ACF і додає їх до масиву блоків
    -   потім він передає цей масив до будь-яких модулів або елементів, які він використовує для візуалізації блоку

## Модулі

Модулі - це не що інше, як набір елементів. Вони аналогічні Molecules в Atomic Design, але з дещо розширеним обсягом. Основна причина їх існування полягає в тому, щоб прискорити розвиток шляхом об’єднання групи елементів разом.

Модуль прийме масив із блоку та передасть ці значення до колекції елементів, яка потім відобразить їх. Модуль також надає засоби обгортання групи елементів за потреби.

Модуль не повинен мати логіки - наприклад, модуль картки відтворюватиме багато елементів один за одним. Ви можете використати логіку, щоб динамічно змінити порядок цих елементів, але набагато простіше та швидше просто скопіювати та вставити модуль, щоб відобразити елементи в іншому порядку.

Відсутність логіки також дотримується основної філософії спрощення розробки.

## Елементи

Елементи аналогічні атомам в атомарному дизайні. У більшості випадків вони рендерять елемент DOM, нічого більше. Вони приймають значення у вигляді масиву, переданого з блоку або модуля, і виводять ці значення на екран. Знову ж таки, Elements має використовувати дуже мало логіки, щоб дотримуватися принципу простоти.

## Створюйте свої власні, використовуйте їх у своїй темі

Якщо Модуль або Елемент відсутній - створіть свій власний, але дуже бажано жотримуватись загального підходу в організації коду. Наприклад, вам може знадобитися модуль Breadcrumb або елемент `<hr>`.

### Використання теми

У темі можна використовувати функції `print_element`, `print_module` або `print_block`. Щоб використовувати ці функції, вам потрібно знати «форму» масиву для полів.

Приклад використання в частині шаблону.

Додайте вгору файлу:
`use function demchco\blocks\print_block;`

```php
// Prints a Call to Action Block.
if ( function_exists( 'demchco\blocks\print_block' ) ) :
  print_block(
    'call-to-action',
    [
      'allowed_innerblocks' => [],
      'fields'              => [
          'eyebrow'     => 'CTA Eyebrow text',
          'heading'     => 'CTA Heading text',
          'content'     => '<p>Lorem ipsum dolor sit amet.</p>',
          'button_args' => [
            'button' => [
              'title'  => 'CTA Button Text',
              'target' => '',
            ],
          ],
          'layout' => 'center',
      ],
    ]
  );
endif;
```

## Навігація

-   [Огляд](Home.md)
-   [Філософія](Philosophy.md)
-   [Функції](Functions.md)
-   [Блоки](Blocks.md)
-   [Модулі](Modules.md)
-   [Елементи](Elements.md)
-   [Скрипти](Scripts.md)
-   [WP-CLI](WP-CLI.md)
